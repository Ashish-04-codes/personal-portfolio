/* @use "../variables" as v;

.journey {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2vh;
  background-color: #4801ff;
  min-height: 100vh;
  padding: 5vw 5vw;
  box-sizing: border-box;
  perspective: 2000px;
  perspective-origin: center left;

  >.milestone {
    position: relative;
    top: -1500px;

    &:first-child {
      transition: transform 1.5s cubic-bezier(0.075, 0.82, 0.165, 1), top 1s ease-in 0.8s;
    }

    &:nth-child(2) {
      transition: transform 1.5s cubic-bezier(0.075, 0.82, 0.165, 1), top 1s ease-in 0.6s;
    }

    &:nth-child(3) {
      transition: transform 1.5s cubic-bezier(0.075, 0.82, 0.165, 1), top 1s ease-in 0.4s;
    }

    &:nth-child(4) {
      transition: transform 1.5s cubic-bezier(0.075, 0.82, 0.165, 1), top 1s ease-in 0.2s;
    }
  }

  &.is-journey-mounted {
    >.milestone {
      top: 0;
    }
  }
}

.milestone-link {
  text-decoration: none;
  color: inherit;
}

.milestone {
  position: relative;
  display: flex;
  gap: 1vw;
  font-weight: 900;
  font-family: v.$primary-font;
  font-size: 5vw;
  letter-spacing: 0.05em;
  line-height: 1.3em;
  text-transform: uppercase;
  position: relative;
  cursor: pointer;
  transform: rotateY(-60deg) translateZ(0) scale(1.3);
  transform-origin: right center;
  transform-style: preserve-3d;
  will-change: transform;
  transition: transform 1.5s cubic-bezier(0.075, 0.82, 0.165, 1), top 1s ease-in;

  &:hover {
    transform: rotateY(-40deg) translateZ(0) scale(1);
  }

  >div {
    &:first-child {
      font-size: 1vw;
      font-weight: 800;
      font-family: v.$secondery-font;
      // position: absolute;
      // top: 1.7em;
      //   left: -50px;
      letter-spacing: 0;
      line-height: 1;
      margin-top: 1.2vh;
    }

    &:nth-child(2) {
      font-weight: 300;
      font-family: v.$secondery-font;
    }

    &:last-child {
      margin-top: 1vh;
      text-align: end;
      transition: color 0.5s;

      &:hover {
        color: transparent;
      }
    }
  }
}

@supports (-webkit-text-stroke: 3px v.$black) or (text-stroke: 3px v.$black) {
  .milestone>div:last-child {
    -webkit-text-stroke: 3px v.$black;
  }
} */

@use "../variables" as v;

/* =========================
   JOURNEY SECTION
========================= */

.journey {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2vh;
  background-color: var(--primary-color);
  min-height: 100vh;
  padding: 5vw 5vw;
  box-sizing: border-box;

  perspective: 2000px;
  perspective-origin: center left;

  /* ===== ENTRY STATE ===== */
  > .milestone {
    transform: translateY(-1500px) rotateY(-60deg) scale(1.3);
    transform-origin: right center;
    transform-style: preserve-3d;
    will-change: transform;
    /* transition is set inline via Milestone component */
  }

  /* ===== MOUNTED STATE ===== */
  &.is-journey-mounted {
    > .milestone {
      transform: translateY(0) rotateY(-60deg) scale(1.3);
    }
  }

  /* ===== ANIMATION COMPLETE - FAST HOVER ===== */
  &.animation-complete {
    > .milestone {
      /* HOVER - smooth and fast (transition is inline) */
      &:hover {
        transform: translateY(0) rotateY(-40deg) scale(1);
      }
    }
  }
}

/* =========================
   MILESTONE LINK
========================= */

.milestone-link {
  text-decoration: none;
  color: inherit;
}

/* =========================
   MILESTONE CORE STYLE
========================= */

.milestone {
  display: flex;
  gap: 1vw;

  font-weight: 900;
  font-family: v.$primary-font;
  font-size: 5vw;
  letter-spacing: 0.05em;
  line-height: 1.3em;
  text-transform: uppercase;

  cursor: pointer;

  > div {
    &:first-child {
      font-size: 1vw;
      font-weight: 800;
      font-family: v.$secondery-font;
      letter-spacing: 0;
      line-height: 1;
      margin-top: 1.2vh;
    }

    &:nth-child(2) {
      font-weight: 300;
      font-family: v.$secondery-font;
    }

    &:last-child {
      margin-top: 1vh;
      text-align: end;
      transition: color 0.5s;

      &:hover {
        color: transparent;
      }
    }
  }
}

/* =========================
   MILESTONE CLICK FEEDBACK
========================= */

.milestone--clicked {
  opacity: 0.6;
  transition: opacity 0.15s ease;
}

/* =========================
   TEXT STROKE SUPPORT
========================= */

@supports (-webkit-text-stroke: 3px v.$black) or (text-stroke: 3px v.$black) {
  .milestone > div:last-child {
    -webkit-text-stroke: 3px v.$black;
  }
}

/* =========================
   MOBILE FIX
========================= */

@media (max-width: 768px) {
  .journey {
    align-items: flex-start;
    padding: 10vh 6vw;
    perspective: none;
  }

  /* Entry from top (off-screen) */
  .journey > .milestone {
    transform: translateY(-100vh);
  }

  /* Mounted state */
  .journey.is-journey-mounted > .milestone {
    transform: translateY(0) rotateY(0) scale(1);
  }

  /* Fast hover after animation completes */
  .journey.animation-complete > .milestone {
    &:hover {
      transform: translateY(0) rotateY(0) scale(1.05);
    }
  }

  .milestone {
    font-size: 9vw;
    gap: 3vw;
  }
}
